<project name="Mono" default="dist" basedir="../../Mono">

	<property name="mono" value="test/js/mono.js"/>
	<copy file="src/mono.js" tofile="${mono}" overwrite="true"/>

	<loadfile property="chMsg" srcFile="src/vendor/Chrome/messages.js"/>
	<loadfile property="oldChMsg" srcFile="src/vendor/OldChrome/messages.js"/>
	<loadfile property="ffMsg" srcFile="src/vendor/Firefox/messages.js"/>
	<loadfile property="sfMsg" srcFile="src/vendor/Safari/messages.js"/>
	<loadfile property="oMsg" srcFile="src/vendor/Opera/messages.js"/>
	<loadfile property="gmMsg" srcFile="src/vendor/GM/messages.js"/>

	<loadfile property="chStorage" srcFile="src/vendor/Chrome/storage.js"/>
	<loadfile property="ffStorage" srcFile="src/vendor/Firefox/storage.js"/>
	<loadfile property="gmStorage" srcFile="src/vendor/GM/storage.js"/>
	<loadfile property="uniStorage" srcFile="src/vendor/Uni/storage.js"/>

	<replace file="${mono}" token="//@chMsg" value="${chMsg}"/>
	<replace file="${mono}" token="//@oldChMsg" value="${oldChMsg}"/>
	<replace file="${mono}" token="//@ffMsg" value="${ffMsg}"/>
	<replace file="${mono}" token="//@sfMsg" value="${sfMsg}"/>
	<replace file="${mono}" token="//@oMsg" value="${oMsg}"/>
	<replace file="${mono}" token="//@gmMsg" value="${gmMsg}"/>

	<replace file="${mono}" token="//@chStorage" value="${chStorage}"/>
	<replace file="${mono}" token="//@ffStorage" value="${ffStorage}"/>
	<replace file="${mono}" token="//@gmStorage" value="${gmStorage}"/>
	<replace file="${mono}" token="//@uniStorage" value="${uniStorage}"/>

	<!-- FF Lib -->

	<property name="monoLib" value="test/vendor/firefox/lib/monoLib.js"/>
	<copy file="src/vendor/Firefox/lib/monoLib.js" tofile="${monoLib}" overwrite="true"/>

	<loadfile property="ffLibStorage" srcFile="src/vendor/Firefox/lib/storage.js"/>
	<loadfile property="ffLibUtils" srcFile="src/vendor/Firefox/lib/utils.js"/>
	<loadfile property="ffLibOtherUtils" srcFile="src/vendor/Firefox/lib/otherUtils.js"/>

	<replace file="${monoLib}" token="//@ffLibStorage" value="${ffLibStorage}"/>
	<replace file="${monoLib}" token="//@ffLibUtils" value="${ffLibUtils}"/>
	<replace file="${monoLib}" token="//@ffLibOtherUtils" value="${ffLibOtherUtils}"/>

	<!-- /FF Lib -->

</project>
